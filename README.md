# JSON Test Omron Python GUI

## Overview
This project is a Python-based graphical user interface (GUI) application built with `tkinter`. It allows users to send and receive JSON data to/from a server. The application provides a user-friendly interface for inputting data, sending it as JSON, and displaying server responses.

## Features
- **Send JSON Data**: Users can input specific parameters and send them as JSON to a server.
- **Dynamic Input Fields**: Predefined fields allow users to customize the JSON data.
- **QR Code Generation**: Automatically generates a QR code based on the JSON data.
- **Save and Copy QR Code**: Users can save the QR code as an image or copy it to the clipboard.
- **Dynamic Braille Fields**: Braille-related fields dynamically appear or disappear based on user input.
- **Status Bar**: Displays server responses or error messages in a status bar at the bottom of the GUI.
- **Error Handling**: Handles invalid inputs and network errors gracefully.
- **Two-Column Layout**: Input fields are organized in two columns for better space utilization.

---

## JSON Structure

### JSON Sent to the Server
The application sends JSON data with the following nested structure:

```json
{
  "JobName": "ExampleName",
  "Sheets": 10000,
  "Box": {
    "A": 80.0,
    "B": 25.0,
    "C": 15.0,
    "BoxType": 1,
    "Orientation": false,
    "Smallbox": false,
    "La": 190,
    "Lb": 150,
    "Lc": 110
  },
  "Braille": {
    "Enable": false,
    "Chars": 16,
    "Pos": 1,
    "Corner": 1,
    "Flap": 1,
    "DistanceStart": 8,
    "DistanceHeight": 8,
    "Lines": 2,
    "EmptyLines": 0,
    "NumMatrices": 2
  }
}
```

#### Field Descriptions:
- **JobName**: String representing the name of the job (randomly generated by default).
- **Sheets**: Integer representing the number of production sheets.
- **Box**: Object containing box-related parameters:
  - **A, B, C**: Float values representing box dimensions.
  - **BoxType**: Integer indicating the type of box.
  - **Orientation**: Boolean indicating the orientation of the box.
  - **Smallbox**: Boolean indicating whether it's a small box.
  - **La, Lb, Lc**: Integer values representing additional dimensions.
- **Braille**: Object containing Braille-related parameters:
  - **Enable**: Boolean indicating whether Braille is enabled.
  - **Chars**: Integer representing the number of Braille characters.
  - **Pos**: Integer representing the position of Braille text.
  - **Corner**: Integer representing the corner type.
  - **Flap**: Integer representing the flap type.
  - **DistanceStart**: Integer representing the starting distance.
  - **DistanceHeight**: Integer representing the height distance.
  - **Lines**: Integer representing the number of lines.
  - **EmptyLines**: Integer representing the number of empty lines.
  - **NumMatrices**: Integer representing the number of matrices.

### QR Code Content
The QR code generated by the application encodes the JSON data in a simplified, semicolon-separated format. For the example JSON above, the QR code content would be:

```
80.0;25.0;15.0;1;False;False;190;150;110;ExampleName;False;16;1;1;1;8;8;2;0;2;10000
```

#### QR Code Field Order:
1. **A** (Box.A)
2. **B** (Box.B)
3. **C** (Box.C)
4. **BoxType** (Box.BoxType)
5. **Orientation** (Box.Orientation)
6. **Smallbox** (Box.Smallbox)
7. **La** (Box.La)
8. **Lb** (Box.Lb)
9. **Lc** (Box.Lc)
10. **JobName**
11. **Enable** (Braille.Enable)
12. **Chars** (Braille.Chars)
13. **Pos** (Braille.Pos)
14. **Corner** (Braille.Corner)
15. **Flap** (Braille.Flap)
16. **DistanceStart** (Braille.DistanceStart)
17. **DistanceHeight** (Braille.DistanceHeight)
18. **Lines** (Braille.Lines)
19. **EmptyLines** (Braille.EmptyLines)
20. **NumMatrices** (Braille.NumMatrices)
21. **Sheets**

---

## Project Structure
```
JSONTestOmronPythonGui
├── src
│   ├── gui.py          # Main GUI application
│   └── utils
│       └── helpers.py  # Helper functions for sending JSON data
├── tests
│   └── test_gui.py     # Unit tests for the GUI
├── .gitignore          # Git ignore file
├── requirements.txt    # Python dependencies
├── README.md           # Project documentation
└── LICENSE             # License information
```

---

## Installation

### Prerequisites
- Python 3.8 or higher
- `pip` (Python package manager)

### Steps
1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/JSONTestOmronPythonGui.git
   ```
2. Navigate to the project directory:
   ```bash
   cd JSONTestOmronPythonGui
   ```
3. Install the required dependencies:
   ```bash
   pip install -r requirements.txt
   ```

---

## Usage

### Running the Application
1. Start the application:
   ```bash
   python src/gui.py
   ```
2. Enter the server URL in the input field (default: `http://192.168.250.1:8090/`).
3. Use the input fields to configure the JSON data to send.
4. Click **Send Data** to send the JSON to the server and automatically generate a QR code.
5. View the server's response or error messages in the status bar.
6. Use the **Generate QR Code** button to regenerate the QR code.
7. Use the **Save QR Code** button to save the QR code as an image.
8. Use the **Copy QR Code** button to copy the QR code to the clipboard.

### GUI Overview
- **URL Input**: Enter the server URL for sending JSON data.
- **Input Fields**: Two-column layout with labeled input fields:
  - **Left Column**: Box-related parameters (A, B, C, TYPE, ORIENTATION, SMALLBOX, La, Lb, Lc, NAME, SHEETS)
  - **Right Column**: Braille-related parameters (dynamically shown/hidden based on Braille checkbox)
- **Braille Checkbox**: Toggles the visibility of Braille-related fields.
- **Send Data Button**: Sends the configured JSON data to the server and generates QR code.
- **QR Code Section**: Displays the generated QR code (200x200 pixels) with action buttons.
- **Status Bar**: Displays server responses, error messages, or status updates.

---

## Testing
Unit tests are provided in the `tests/test_gui.py` file. To run the tests:
```bash
python -m unittest discover tests
```

---

## Dependencies
The project requires the following Python packages:
- `qrcode`: For generating QR codes.
- `Pillow`: For handling QR code images.
- `requests`: For sending HTTP requests to the server.

Install all dependencies using:
```bash
pip install -r requirements.txt
```

Note: `tkinter` is part of Python's standard library and doesn't need to be installed separately.

---

## Contributing
Contributions are welcome! To contribute:
1. Fork the repository.
2. Create a new branch for your feature or bug fix.
3. Commit your changes and push them to your fork.
4. Open a pull request with a detailed description of your changes.

---

## License
This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

## Acknowledgments
- Built with Python and `tkinter`.
- QR code generation powered by `qrcode` library.
- Inspired by the need for a simple JSON data sender with QR code generation.

---
Feel free to open an issue or submit a pull request if you encounter any problems or have suggestions for improvement.